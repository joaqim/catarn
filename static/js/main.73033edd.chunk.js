(this.webpackJsonptarn=this.webpackJsonptarn||[]).push([[0],{146:function(e,i,t){},147:function(e,i,t){},486:function(e,i,t){"use strict";t.r(i);var c=t(2),n=t(1),d=t.n(n),a=t(49),r=t.n(a),l=(t(146),t(147),t(131));t.n(l)()("http://localhost:8000");var o=t(53),s=t(25),h=t(50),u=t(54),b=t(52),g=t(29),D=function(e){Object(u.a)(t,e);var i=Object(b.a)(t);function t(){var e;return Object(g.a)(this,t),(e=i.call(this)).minimumCardsBeforeReshuffling=void 0,e.probabilityReductionForRecentlyRolled=void 0,e.weightedDiceDeck=void 0,e.cardsLeftInDeck=void 0,e.recentRolls=void 0,e.maximumRecentRollMemory=void 0,e.initWeightedDiceDeck(),e.reshuffleWeightedDiceDeck(),e.updateWeightedDiceDeckProbabilities(),e.minimumCardsBeforeReshuffling=13,e.probabilityReductionForRecentlyRolled=.3,e.recentRolls=[],e.maximumRecentRollMemory=5,e}return Object(h.a)(t,[{key:"throwDice",value:function(){return this.drawWeightedCard()}},{key:"drawWeightedCard",value:function(){return this.cardsLeftInDeck<this.minimumCardsBeforeReshuffling&&this.reshuffleWeightedDiceDeck(),this.updateWeightedDiceDeckProbabilities(),this.adjustWeightedDiceDeckBasedOnRecentRolls(),this.getWeightedDice()}},{key:"initWeightedDiceDeck",value:function(){this.weightedDiceDeck=[],this.weightedDiceDeck.push({totalDice:2,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:3,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:4,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:5,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:6,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:7,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:8,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:9,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:10,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:11,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:12,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0})}},{key:"reshuffleWeightedDiceDeck",value:function(){var e,i=this.getStandardDiceDeck(),t=Object(s.a)(i.entries());try{for(t.s();!(e=t.n()).done;){var c=Object(o.a)(e.value,2),n=c[0],d=c[1];this.weightedDiceDeck[n].dicePairs=d.dicePairs}}catch(a){t.e(a)}finally{t.f()}this.cardsLeftInDeck=36}},{key:"updateWeightedDiceDeckProbabilities",value:function(){var e,i=Object(s.a)(this.weightedDiceDeck);try{for(i.s();!(e=i.n()).done;){var t=e.value;t.probabilityWeighting=t.dicePairs.length/this.cardsLeftInDeck}}catch(c){i.e(c)}finally{i.f()}}},{key:"getWeightedDice",value:function(){var e,i,t=this.getTotalProbabilityWeight(),c=Math.random()*t,n=Object(s.a)(this.weightedDiceDeck);try{for(n.s();!(e=n.n()).done;){var d=e.value;if(c<=d.probabilityWeighting){var a=(i=d.dicePairs)[Math.floor(Math.random()*i.length)];return f(d.dicePairs,a),this.recentRolls.push(d.totalDice),d.recentlyRolledCount++,this.cardsLeftInDeck--,this.recentRolls.length>this.maximumRecentRollMemory&&this.updateRecentlyRolled(),a}c-=d.probabilityWeighting}}catch(r){n.e(r)}finally{n.f()}return{dice1:3,dice2:4}}},{key:"getTotalProbabilityWeight",value:function(){var e,i=0,t=Object(s.a)(this.weightedDiceDeck);try{for(t.s();!(e=t.n()).done;){i+=e.value.probabilityWeighting}}catch(c){t.e(c)}finally{t.f()}return i}},{key:"updateRecentlyRolled",value:function(){var e=this.recentRolls[0];this.weightedDiceDeck[e-2].recentlyRolledCount--,this.recentRolls.shift()}},{key:"adjustWeightedDiceDeckBasedOnRecentRolls",value:function(){var e,i=Object(s.a)(this.weightedDiceDeck);try{for(i.s();!(e=i.n()).done;){var t=e.value,c=1-t.recentlyRolledCount*this.probabilityReductionForRecentlyRolled;t.probabilityWeighting*=c,t.probabilityWeighting<0&&(t.probabilityWeighting=0)}}catch(n){i.e(n)}finally{i.f()}}},{key:"getStandardDiceDeck",value:function(){var e=[];return e.push({totalDice:2,dicePairs:[{dice1:1,dice2:1}]}),e.push({totalDice:3,dicePairs:[{dice1:1,dice2:2},{dice1:2,dice2:1}]}),e.push({totalDice:4,dicePairs:[{dice1:1,dice2:3},{dice1:2,dice2:2},{dice1:3,dice2:1}]}),e.push({totalDice:5,dicePairs:[{dice1:1,dice2:4},{dice1:2,dice2:3},{dice1:3,dice2:2},{dice1:4,dice2:1}]}),e.push({totalDice:6,dicePairs:[{dice1:1,dice2:5},{dice1:2,dice2:4},{dice1:3,dice2:3},{dice1:4,dice2:2},{dice1:5,dice2:1}]}),e.push({totalDice:7,dicePairs:[{dice1:1,dice2:6},{dice1:2,dice2:5},{dice1:3,dice2:4},{dice1:4,dice2:3},{dice1:5,dice2:2},{dice1:6,dice2:1}]}),e.push({totalDice:8,dicePairs:[{dice1:2,dice2:6},{dice1:3,dice2:5},{dice1:4,dice2:4},{dice1:5,dice2:3},{dice1:6,dice2:2}]}),e.push({totalDice:9,dicePairs:[{dice1:3,dice2:6},{dice1:4,dice2:5},{dice1:5,dice2:4},{dice1:6,dice2:3}]}),e.push({totalDice:10,dicePairs:[{dice1:4,dice2:6},{dice1:5,dice2:5},{dice1:6,dice2:4}]}),e.push({totalDice:11,dicePairs:[{dice1:5,dice2:6},{dice1:6,dice2:5}]}),e.push({totalDice:12,dicePairs:[{dice1:6,dice2:6}]}),e}}]),t}((function e(){Object(g.a)(this,e)}));function f(e,i){var t=e.indexOf(i);return t>-1&&(e.splice(t,1),!0)}var p=t(30),y=function(e,i){var t,c,n=i.type,d=i.payload;switch(n){case"add":return t=[].concat(Object(p.a)(e.dice),[d]),(c=Object(p.a)(e.count))[d.value].count+=1,{dice:t,count:c};case"remove":return t=Object(p.a)(e.dice).filter((function(e,i){return i!==d.index})),(c=Object(p.a)(e.count))[e.dice[d.index].value].count-=1,{dice:t,count:c};default:throw new Error}},j=Object(n.createContext)(),v={dice:[],count:Array(13).fill({count:0,value:0}).map((function(e,i){return{value:i,count:0}}))},k=function(e){var i=e.children,t=Object(n.useReducer)(y,v),d=Object(o.a)(t,2),a=d[0],r=d[1],l=Object(n.useMemo)((function(){return{state:a,dispatch:r}}),[a,r]);return Object(c.jsx)(j.Provider,{value:l,children:i})},O=t(132),R=t.n(O),m=t(133),x=t.n(m),P=(t(128),t(126),t(80)),W=t.n(P),w=t(81),C=t.n(w),F=t(82),L=t.n(F),M=t(137),B=t.n(M),I=t(79),T=t.n(I),S=(t(73),function(e){Object(u.a)(t,e);var i=Object(b.a)(t);function t(){return Object(g.a)(this,t),i.apply(this,arguments)}return Object(h.a)(t,[{key:"render",value:function(){return Object(c.jsx)("div",{style:{width:500,height:300},children:Object(c.jsx)(R.a,{children:Object(c.jsxs)(x.a,{width:800,height:400,data:this.props.count,margin:{top:20,right:20,bottom:20,left:20},children:[Object(c.jsx)(B.a,{stroke:"#f5f5f5"}),Object(c.jsx)(L.a,{dataKey:"count",type:"number",allowDecimals:!1}),Object(c.jsx)(C.a,{dataKey:"value",domain:[2,12]}),Object(c.jsx)(T.a,{}),Object(c.jsx)(W.a,{dataKey:"count",tickFormatter:function(e){return e},barSize:20,fill:"#413ea0"})]})})})}}]),t}(n.PureComponent));var A=function(){var e=Object(n.useContext)(j),i=e.state,t=i.dice,d=i.count,a=e.dispatch,r=new D;function l(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=0;i<=e-1;i++){var c=r.throwDice(),n=c.dice1,d=c.dice2;a({type:"add",payload:{index:t?t.length+1:0,x:n,y:d,value:n+d}})}}return Object(n.useEffect)((function(){}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(S,{dice:t,count:d}),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("p",{children:["Total rolls: ",t.length]}),Object(c.jsx)("button",{onClick:function(){return l()},children:"Roll Dice"}),Object(c.jsx)("button",{onClick:function(){return l(10)},children:"Roll 10"}),Object(c.jsx)("button",{onClick:function(){return l(50)},children:"Roll 50"}),Object(c.jsx)("p",{}),Object(c.jsx)("div",{children:t?t.map((function(e,i){return Object(c.jsxs)("h2",{children:[e.x+e.y,Object(c.jsx)("button",{onClick:function(){return a({type:"remove",payload:{index:i}})},children:"Remove"},i)]},i)})):null}),Object(c.jsx)("header",{className:"App-header"}),Object(c.jsxs)("p",{className:"App-intro",children:["This is the timestamp value: ","NULL"]})]})]})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,488)).then((function(i){var t=i.getCLS,c=i.getFID,n=i.getFCP,d=i.getLCP,a=i.getTTFB;t(e),c(e),n(e),d(e),a(e)}))};r.a.render(Object(c.jsx)(d.a.StrictMode,{children:Object(c.jsx)(k,{children:Object(c.jsx)(A,{})})}),document.getElementById("root")),N()}},[[486,1,2]]]);
//# sourceMappingURL=main.73033edd.chunk.js.map