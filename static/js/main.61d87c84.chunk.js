(this.webpackJsonpcatarn=this.webpackJsonpcatarn||[]).push([[0],{146:function(e,i,t){},147:function(e,i,t){},486:function(e,i,t){"use strict";t.r(i);var c=t(2),n=t(1),r=t.n(n),l=t(49),a=t.n(l),d=(t(146),t(147),t(131));t.n(d)()("http://localhost:8000");var o=t(53),s=t(25),u=t(50),h=t(54),b=t(52),g=t(29),f=function(e){Object(h.a)(t,e);var i=Object(b.a)(t);function t(){var e;return Object(g.a)(this,t),(e=i.call(this)).minimumCardsBeforeReshuffling=void 0,e.probabilityReductionForRecentlyRolled=void 0,e.weightedDiceDeck=void 0,e.cardsLeftInDeck=void 0,e.recentRolls=void 0,e.maximumRecentRollMemory=void 0,e.initWeightedDiceDeck(),e.reshuffleWeightedDiceDeck(),e.updateWeightedDiceDeckProbabilities(),e.minimumCardsBeforeReshuffling=13,e.probabilityReductionForRecentlyRolled=.3,e.recentRolls=[],e.maximumRecentRollMemory=5,e}return Object(u.a)(t,[{key:"throwDice",value:function(){return this.drawWeightedCard()}},{key:"drawWeightedCard",value:function(){return this.cardsLeftInDeck<this.minimumCardsBeforeReshuffling&&this.reshuffleWeightedDiceDeck(),this.updateWeightedDiceDeckProbabilities(),this.adjustWeightedDiceDeckBasedOnRecentRolls(),this.getWeightedDice()}},{key:"initWeightedDiceDeck",value:function(){this.weightedDiceDeck=[],this.weightedDiceDeck.push({totalDice:2,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:3,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:4,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:5,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:6,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:7,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:8,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:9,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:10,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:11,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0}),this.weightedDiceDeck.push({totalDice:12,dicePairs:[],probabilityWeighting:0,recentlyRolledCount:0})}},{key:"reshuffleWeightedDiceDeck",value:function(){var e,i=this.getStandardDiceDeck(),t=Object(s.a)(i.entries());try{for(t.s();!(e=t.n()).done;){var c=Object(o.a)(e.value,2),n=c[0],r=c[1];this.weightedDiceDeck[n].dicePairs=r.dicePairs}}catch(l){t.e(l)}finally{t.f()}this.cardsLeftInDeck=36}},{key:"updateWeightedDiceDeckProbabilities",value:function(){var e,i=Object(s.a)(this.weightedDiceDeck);try{for(i.s();!(e=i.n()).done;){var t=e.value;t.probabilityWeighting=t.dicePairs.length/this.cardsLeftInDeck}}catch(c){i.e(c)}finally{i.f()}}},{key:"getWeightedDice",value:function(){var e,i,t=this.getTotalProbabilityWeight(),c=Math.random()*t,n=Object(s.a)(this.weightedDiceDeck);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(c<=r.probabilityWeighting){var l=(i=r.dicePairs)[Math.floor(Math.random()*i.length)];return D(r.dicePairs,l),this.recentRolls.push(r.totalDice),r.recentlyRolledCount++,this.cardsLeftInDeck--,this.recentRolls.length>this.maximumRecentRollMemory&&this.updateRecentlyRolled(),l}c-=r.probabilityWeighting}}catch(a){n.e(a)}finally{n.f()}return{dice1:3,dice2:4}}},{key:"getTotalProbabilityWeight",value:function(){var e,i=0,t=Object(s.a)(this.weightedDiceDeck);try{for(t.s();!(e=t.n()).done;){i+=e.value.probabilityWeighting}}catch(c){t.e(c)}finally{t.f()}return i}},{key:"updateRecentlyRolled",value:function(){var e=this.recentRolls[0];this.weightedDiceDeck[e-2].recentlyRolledCount--,this.recentRolls.shift()}},{key:"adjustWeightedDiceDeckBasedOnRecentRolls",value:function(){var e,i=Object(s.a)(this.weightedDiceDeck);try{for(i.s();!(e=i.n()).done;){var t=e.value,c=1-t.recentlyRolledCount*this.probabilityReductionForRecentlyRolled;t.probabilityWeighting*=c,t.probabilityWeighting<0&&(t.probabilityWeighting=0)}}catch(n){i.e(n)}finally{i.f()}}},{key:"getStandardDiceDeck",value:function(){var e=[];return e.push({totalDice:2,dicePairs:[{dice1:1,dice2:1}]}),e.push({totalDice:3,dicePairs:[{dice1:1,dice2:2},{dice1:2,dice2:1}]}),e.push({totalDice:4,dicePairs:[{dice1:1,dice2:3},{dice1:2,dice2:2},{dice1:3,dice2:1}]}),e.push({totalDice:5,dicePairs:[{dice1:1,dice2:4},{dice1:2,dice2:3},{dice1:3,dice2:2},{dice1:4,dice2:1}]}),e.push({totalDice:6,dicePairs:[{dice1:1,dice2:5},{dice1:2,dice2:4},{dice1:3,dice2:3},{dice1:4,dice2:2},{dice1:5,dice2:1}]}),e.push({totalDice:7,dicePairs:[{dice1:1,dice2:6},{dice1:2,dice2:5},{dice1:3,dice2:4},{dice1:4,dice2:3},{dice1:5,dice2:2},{dice1:6,dice2:1}]}),e.push({totalDice:8,dicePairs:[{dice1:2,dice2:6},{dice1:3,dice2:5},{dice1:4,dice2:4},{dice1:5,dice2:3},{dice1:6,dice2:2}]}),e.push({totalDice:9,dicePairs:[{dice1:3,dice2:6},{dice1:4,dice2:5},{dice1:5,dice2:4},{dice1:6,dice2:3}]}),e.push({totalDice:10,dicePairs:[{dice1:4,dice2:6},{dice1:5,dice2:5},{dice1:6,dice2:4}]}),e.push({totalDice:11,dicePairs:[{dice1:5,dice2:6},{dice1:6,dice2:5}]}),e.push({totalDice:12,dicePairs:[{dice1:6,dice2:6}]}),e}}]),t}((function e(){Object(g.a)(this,e)}));function D(e,i){var t=e.indexOf(i);return t>-1&&(e.splice(t,1),!0)}var j=t(30),p=function(e,i){var t,c,n=i.type,r=i.payload;switch(n){case"add":return t=[].concat(Object(j.a)(e.dice),[r]),(c=Object(j.a)(e.count))[r.value].count+=1,{dice:t,count:c};case"remove":return t=Object(j.a)(e.dice).filter((function(e,i){return i!==r.index})),(c=Object(j.a)(e.count))[e.dice[r.index].value].count-=1,{dice:t,count:c};case"clear":return{dice:[],count:Array(13).fill({count:0,value:0}).map((function(e,i){return{value:i,count:0}}))};default:throw new Error}},y=Object(n.createContext)(),v={dice:[],count:Array(13).fill({count:0,value:0}).map((function(e,i){return{value:i,count:0}}))},k=function(e){var i=e.children,t=Object(n.useReducer)(p,v),r=Object(o.a)(t,2),l=r[0],a=r[1],d=Object(n.useMemo)((function(){return{state:l,dispatch:a}}),[l,a]);return Object(c.jsx)(y.Provider,{value:d,children:i})},O=t(132),R=t.n(O),m=t(133),x=t.n(m),C=(t(128),t(126),t(80)),P=t.n(C),W=t(81),w=t.n(W),M=t(82),F=t.n(M),L=t(137),B=t.n(L),I=t(79),A=t.n(I),N=(t(73),function(e){Object(h.a)(t,e);var i=Object(b.a)(t);function t(){return Object(g.a)(this,t),i.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return Object(c.jsx)("div",{style:{width:"60%",height:300,position:"center"},children:Object(c.jsx)(R.a,{children:Object(c.jsxs)(x.a,{width:"100%",height:"100%",data:this.props.count,margin:{top:20,right:20,bottom:20,left:20},children:[Object(c.jsx)(B.a,{stroke:"#f5f5f5"}),Object(c.jsx)(F.a,{dataKey:"count",type:"number",allowDecimals:!1}),Object(c.jsx)(w.a,{dataKey:"value",domain:[2,12],tickFormatter:function(e){return e>=2?e:"N/A"}}),Object(c.jsx)(A.a,{}),Object(c.jsx)(P.a,{dataKey:"count",tickFormatter:function(e){return e},barSize:20,fill:"#413ea0"})]})})})}}]),t}(n.PureComponent));var T=function(){var e=Object(n.useContext)(y),i=e.state,t=i.dice,r=i.count,l=e.dispatch,a=new f;function d(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=0;i<=e-1;i++){var c=a.throwDice(),n=c.dice1,r=c.dice2;l({type:"add",payload:{index:t?t.length+1:0,x:n,y:r,value:n+r}})}}function o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=0;i<=e-1;i++){var c=Math.floor(6*Math.random()+1),n=Math.floor(6*Math.random()+1);l({type:"add",payload:{index:t?t.length+1:0,x:c,y:n,value:c+n}})}}return Object(n.useEffect)((function(){d(100)}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N,{dice:t,count:r}),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("p",{children:["Total rolls: ",t.length]}),Object(c.jsx)("button",{onClick:function(){return l({type:"clear"})},children:"Clear rolls"}),t.length>0?Object(c.jsx)("button",{onClick:function(){return l({type:"remove",payload:{index:t.length-1}})},children:"Undo Roll"}):null,Object(c.jsx)("p",{}),Object(c.jsx)("button",{onClick:function(){return d()},children:"Roll Dice"}),Object(c.jsx)("button",{onClick:function(){return d(10)},children:"Roll 10"}),Object(c.jsx)("button",{onClick:function(){return d(50)},children:"Roll 50"}),Object(c.jsx)("button",{onClick:function(){return d(50)},children:"Roll 100"}),Object(c.jsx)("p",{children:"No bias:"}),Object(c.jsx)("button",{onClick:function(){return o()},children:"Roll Dice"}),Object(c.jsx)("button",{onClick:function(){return o(10)},children:"Roll 10"}),Object(c.jsx)("button",{onClick:function(){return o(50)},children:"Roll 50"}),Object(c.jsx)("button",{onClick:function(){return o(50)},children:"Roll 100"}),Object(c.jsx)("p",{}),Object(c.jsx)("div",{children:null}),Object(c.jsx)("header",{className:"App-header"}),Object(c.jsxs)("p",{className:"App-intro",children:["This is the timestamp value: ","NULL"]})]})]})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,488)).then((function(i){var t=i.getCLS,c=i.getFID,n=i.getFCP,r=i.getLCP,l=i.getTTFB;t(e),c(e),n(e),r(e),l(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(k,{children:Object(c.jsx)(T,{})})}),document.getElementById("root")),S()}},[[486,1,2]]]);
//# sourceMappingURL=main.61d87c84.chunk.js.map